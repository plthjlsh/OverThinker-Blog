---
title: "ğŸ“§ä¸ƒå¤§æ’åºé­”æ³•ä¹‹äº‰"
published: 2025-08-22
description: "æ’åºç®—æ³•çš„ä½¿ç”¨æŒ‡å—"
image: "./cover.jpg"
tags: ["Java", "æ•°æ®ç»“æ„", "åšå®¢"]
category: Javaæ•°æ®ç»“æ„
pinned: false
draft: false
---

> **[<font face="STCAIYUN" size =  5 color = #386b44ff>æ•°</font><font face="STCAIYUN" size =  5 color = #386b44ff>æ®</font><font face="STCAIYUN" size =  5 color = #386b44ff>ç»“</font><font face="STCAIYUN" size =  5 color = #386b44ff>æ„</font><font face="STCAIYUN" size =  5 color = #386b44ff>ä¸“</font><font face="STCAIYUN" size =  5 color = #386b44ff>æ  </font>â¬…(click)](http://localhost:4321/archive/?category=Java%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)**
---

## å¼€ç¯‡ï¼šå½“æ•°æ®å¼€å§‹"æ’é˜Ÿ"

æƒ³è±¡ä½ æ˜¯ä¸€ä½æ‰‘å…‹ç‰Œé­”æœ¯å¸ˆï¼ˆæ²¡é”™ï¼Œå°±æ˜¯é‚£ç§èƒ½æŠŠä¸€å‰¯ä¹±åºçš„ç‰Œç¬é—´ç†æ•´é½çš„é…·ç‚«è§’è‰²ï¼‰ã€‚ä»Šå¤©ï¼Œæˆ‘è¦æ­ç§˜çš„æ­£æ˜¯è®¡ç®—æœºä¸–ç•Œä¸­æœ€ç¥å¥‡çš„"æ•´ç†é­”æ³•"â€”â€”æ’åºç®—æ³•ï¼å‡†å¤‡å¥½ä½ çš„é­”æ–ï¼ˆé”®ç›˜ï¼‰ï¼Œæˆ‘ä»¬å¼€å§‹è¿™åœºå¥‡å¹»ä¹‹æ—…å§ï¼

## ç¬¬ä¸€ç« ï¼šåŸºç¡€é­”æ³•â€”â€”æ’åºæ¦‚å¿µå…¥é—¨

### 1.1 ä»€ä¹ˆæ˜¯æ’åºï¼Ÿ
> "æŠŠå¤§è±¡è£…å†°ç®±éœ€è¦ä¸‰æ­¥ï¼ŒæŠŠæ•°æ®æ’å¥½åºä¹Ÿåªéœ€è¦ä¸‰æ­¥ï¼šæ¯”è¾ƒã€ç§»åŠ¨ã€é‡å¤" â€”â€” æŸä¸æ„¿é€éœ²å§“åçš„ç®—æ³•é­”æ³•å¸ˆ

**ç¨³å®šæ€§é­”å’’**ï¼š
- ç¨³å®šé­”æ³•ï¼š5â‚å’Œ5â‚‚è¿™ä¸¤ä¸ªç›¸åŒæ•°å­—ï¼Œæ’åºåä¿æŒåŸå§‹é¡ºåº
- ä¸ç¨³å®šé­”æ³•ï¼š5â‚å’Œ5â‚‚å¯èƒ½äº¤æ¢ä½ç½®

### 1.2 å†…å­˜ä¸­çš„é­”æ³• vs ç£ç›˜ä¸Šçš„é­”æ³•
- **å†…éƒ¨æ’åº**ï¼šæ‰€æœ‰æ•°æ®éƒ½åœ¨å†…å­˜ä¸­ï¼ˆåƒåœ¨æ¡Œå­ä¸Šæ•´ç†æ‰‘å…‹ç‰Œï¼‰
- **å¤–éƒ¨æ’åº**ï¼šæ•°æ®å¤ªå¤§è¦å€ŸåŠ©ç£ç›˜ï¼ˆåƒæ•´ç†ä¸€ä¸ªå›¾ä¹¦é¦†çš„ä¹¦ç±ï¼‰

## ç¬¬äºŒç« ï¼šä¸ƒå¤§æ’åºé­”æ³•è¯¦è§£


### 2.1 æ’å…¥æ’åºâ€”â€”æ‰‘å…‹ç‰Œå¤§å¸ˆçš„ç§˜æŠ€
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p1.gif)
> æ€è·¯ï¼šæ•´ä¸ªæ•°ç»„åˆ’åˆ†ä¸ºæœ‰åºåŒºé—´å’Œæ— åºåŒºé—´ï¼Œæ¯æ¬¡å–å‡ºæ— åºåŒºé—´ä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°æœ‰åºåŒºé—´çš„åˆé€‚ä½ç½®
æ•´ä¸ªè¿‡ç¨‹å¾ªç¯n-1æ¬¡,æ—¶é—´å¤æ‚åº¦O(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦O(1)
```java
    private static void insertSort(int[] arr){
        // bondæ˜¯æœ‰åºå’Œæ— åºçš„è¾¹ç•Œ
        for(int bond = 1; bond < arr.length; bond++){
            int value = arr[bond];
            int cur = bond-1;
            for (;cur>=0;cur--){
                if(arr[cur]>value){
                    //è¿™ç§æƒ…å†µå°±éœ€è¦æ¬è¿ï¼ŒæŠŠcurä½ç½®çš„å…ƒç´ æ¬è¿åˆ°cur+1çš„ä½ç½®
                    arr[cur+1] = arr[cur];
                }else {
                    //æ­¤æ—¶è¯´æ˜å·²ç»åˆ°è¾¾åˆé€‚ä½ç½®ï¼Œé€€å‡ºå¾ªç¯ç›´æ¥æ’å…¥å³å¯
                    break;
                }
            }
            //æ„å‘³ç€å°†valueåº”è¯¥æ”¾åœ¨curä¹‹åï¼Œä¹Ÿå°±æ˜¯cur+1çš„ä½ç½®
            arr[cur+1] = value;
        }
    }
```


> - æœ€ä½³æƒ…å†µï¼šO(n)ï¼ˆå½“ç‰Œå·²ç»åŸºæœ¬æœ‰åºæ—¶ï¼‰
> - æœ€å·®æƒ…å†µï¼šO(nÂ²)ï¼ˆå½“ç‰Œå®Œå…¨é€†åºæ—¶ï¼‰
> - ç¨³å®šæ€§ï¼šâœ”ï¸ï¼ˆç›¸åŒç‚¹æ•°çš„ç‰Œä¿æŒé¡ºåºï¼‰

### 2.2 å¸Œå°”æ’åºâ€”â€”åˆ†ç»„è·³è·ƒçš„é­”æ³•ï¼ˆæ’å…¥æ’åºçš„plusï¼‰

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p2.gif)

> - æ€è·¯ï¼šå…ˆæŠŠæ•´ä¸ªæ•°ç»„åˆ†æˆè‹¥å¹²ç»„ï¼Œé’ˆå¯¹æ¯ä¸ªæ•°ç»„åˆ†åˆ«è¿›è¡Œæ’å…¥æ’åº
å¸Œå°”æ’åº,åˆ†ç»„æ’æ’æ“ä½œ,ä¸æ˜¯åªè¿›è¡Œä¸€æ¬¡,è€Œæ˜¯è¦è¿›è¡Œè‹¥å¹²æ¬¡çš„~~
æ¯”å¦‚ æŒ‡å®š gap ä¸º 3 2 1 è¿™æ ·çš„åºåˆ—
å…ˆæŒ‰ç…§ gap ä¸º 3 è¿›è¡Œåˆ†ç»„æ’æ’
å†æŒ‰ç…§ gap ä¸º 2 è¿›è¡Œåˆ†ç»„æ’æ’
æœ€åæŒ‰ç…§ gap ä¸º1è¿›è¡Œåˆ†ç»„æ’æ’ (å°±ç›¸å½“äºæ™®é€šçš„æ’å…¥æ’åº) =>è‚¯å®šèƒ½ä¿è¯æœ‰åºçš„
> - æ™®é€šçš„æ’å…¥æ’åº:
1.å¦‚æœè¦æ’åºçš„æ•°ç»„,å¾ˆçŸ­,æ•´ä½“çš„æ•ˆç‡å°±å¾ˆé«˜.
2.å¦‚æœè¦æ’åºçš„æ•°ç»„,å·²ç»åŸºæœ¬æœ‰åº,æ•´ä½“æ•ˆç‡ä¹Ÿå¾ˆé«˜
å½“ gap çš„å€¼æ¯”è¾ƒå¤§çš„æ—¶å€™,åˆ†å‡ºçš„ç»„å°±å¤šï¼Œæ¯ä¸ªç»„çš„å…ƒç´ å°±å°‘.é’ˆå¯¹æ¯ä¸ªç»„åˆ†åˆ«æ’æ’,éƒ½å¾ˆå¿«
å½“ gap çš„å€¼æ¯”è¾ƒå°çš„æ—¶å€™,åˆ†çš„ç»„æ˜¯å°‘äº†,é€šè¿‡å‰é¢çš„å‡†å¤‡å·¥ä½œ,å·²ç»ä½¿æ•´ä¸ªæ•°ç»„ç›¸å¯¹æ¥è¯´æ¯”è¾ƒæœ‰åºäº†.è¿™ä¸ªæ—¶å€™æ„å‘³ç€æ­¤æ—¶çš„é€Ÿåº¦ä¹Ÿå¾ˆå¿«~~
> - æ—¶é—´å¤æ‚åº¦æœ€åä¸ºO(nÂ²)ï¼Œå¹³å‡å¤æ‚çš„æ ¹æ®gapå€¼æ¥ç¡®å®šï¼Œgapä¸€èˆ¬å–å€¼size/2ï¼Œsize/2ï¼Œsize/4 â€¦â€¦ç©ºé—´å¤æ‚åº¦ä¸ºO(1)
```java
    private static void shellSort(int[] arr){
        int gap = arr.length/2;
        while(gap>=1){
            //é’ˆå¯¹æ¯ä¸ªç»„è¿›è¡Œæ’å…¥æ’åº
            insertSortGap(arr, gap);
            //æ·»åŠ ä¸€ä¸ªæ‰“å°ï¼Œçœ‹æ¯æ¬¡gapçš„æ•ˆæœ
            System.out.println("gap = " + gap + " : " + Arrays.toString(arr));
            gap /= 2;
        }
    }

    private static void insertSortGap(int[] arr, int gap){
        // åˆ†ç»„æ’å…¥æ’åº
        // æ¯ä¸ªç»„ä¸­çš„å…ƒç´ ï¼Œä¸‹æ ‡å·®å€¼ä¸ºgap
        // ä¾‹å¦‚ï¼Œgapä¸º3çš„æ—¶å€™ï¼Œç»„ä¸º[0ï¼Œ3)ï¼Œ[3ï¼Œ6)ï¼Œ[6ï¼Œ9)
        // æ­¤å¤„åŒä¸€ä¸ªç»„å†…éƒ¨çš„å…ƒç´ ä¸‹æ ‡å·®å€¼æ˜¯gapã€‚å–ä¸‹ä¸€ä¸ªå…ƒç´ çœ‹èµ·æ¥æ˜¯bound += gap
        // ä½†æ˜¯æ­¤å¤„çš„å¤„åŸ‹ï¼Œå…¶å®æ˜¯é’ˆå¯¹æ‰€æœ‰çš„ç»„ï¼ŒåŒæ—¶å¤„ç†
        // æ¯”å¦‚gapä¸º3ï¼Œåˆ™æœ‰3ä¸ªç»„ï¼Œæ¯”å¦‚æ˜¯0ï¼Œ1ï¼Œ2
        // bound çš„å¾ªåè¿‡ç¨‹ï¼Œå°±æ˜¯åœ¨å¤„ç†ç¬¬ 0 ç»„çš„ç¬¬1ä¸ªå…ƒç´ çš„æ’å…¥ï¼Œå†å¤„ç†ç¬¬1ç»„çš„ç¬¬1ä¸ªå…ƒç´ çš„æ’å…¥ï¼Œå†å¤„ç†ç¬¬2ç»„çš„ç¬¬1ä¸ªå…ƒç´ çš„æ’å…¥
        // ç„¶åå†å¤„ç†ç¬¬0ç»„çš„ç¬¬2ä¸ªå…ƒç´ çš„æ’å…¥ï¼Œå†å¤„ç†ç¬¬1ç»„çš„ç¬¬2ä¸ªå…ƒç´ çš„æ’å…¥ï¼Œå†å¤„ç†ç¬¬2ç»„çš„ç¬¬2ä¸ªå…ƒç´ çš„æ’å…¥.ä»¥æ­¤ç±»æ¨
        for (int bond = gap; bond < arr.length; bond++){
            int value = arr[bond];
            int cur = bond - gap;
            for (;cur>=0;cur-=gap){
                if(arr[cur]>value){
                    arr[cur + gap] = arr[cur];
                }else{
                    break;
                }
            }
            arr[cur + gap] = value;

        }
    }
```

> **æœªè§£ä¹‹è°œ**ï¼šå¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦è‡³ä»Šä»æ˜¯ç®—æ³•ç•Œçš„"é­”æ³•è°œé¢˜"ï¼Œä¸åŒé­”æ³•å¸ˆç»™å‡ºäº†ä¸åŒçš„ç­”æ¡ˆï¼š
> - O(n^1.25) ~ O(1.6n^1.25)ï¼ˆKnuthçš„çŒœæƒ³ï¼‰
> - O(n^1.3)ï¼ˆå®éªŒç»Ÿè®¡ç»“æœï¼‰
> - O(n logÂ²n)ï¼ˆæŸäº›ç‰¹å®šé—´éš”åºåˆ—ï¼‰
> - ç¨³å®šæ€§ï¼šâŒ

### 2.3 ç›´æ¥é€‰æ‹©æ’åºâ€”â€”æ‰“æ“‚ä¸»çš„æŒ‘æˆ˜èµ›
>  - æ€è·¯ï¼š æŠŠæ•´ä¸ªæ•°ç»„åˆ’åˆ†æˆä¸¤ä¸ªåŒºé—´,å‰åŠéƒ¨åˆ†å·²æ’åºåŒºé—´(==æœ‰åºåŒºé—´==),ååŠéƒ¨åˆ†æ˜¯å¾…æ’åºåŒºé—´(==æ— åºåŒºé—´==)åˆå§‹æƒ…å†µä¸‹,æœ‰åºåŒºé—´æ˜¯ç©ºåŒºé—´
> - ä»æ— åºåŒºé—´ä¸­,æ‰¾å‡ºæ•´ä¸ªæ— åºåŒºé—´é‡Œçš„æœ€å°å€¼,æŠŠè¿™ä¸ªæœ€å°å€¼,å’Œæ— åºåŒºé—´çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢åŒæ—¶æŠŠè¿™ä¸ªæ— åºåŒºé—´çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,åˆ’åˆ†åˆ°æœ‰åºåŒºé—´ä¸­æ¯æ¬¡è¿›è¡Œä¸€è¶Ÿ,éƒ½ä¼šä½¿æœ‰åºåŒºé—´å˜å¤§ä¸€ç‚¹~~
> - è¿™ä¸ªæ‰¾æœ€å°çš„è¿‡ç¨‹ï¼Œé€šè¿‡"æ‰“æ“‚ä¸»â€çš„æ–¹å¼ï¼Œä»¥å¾…æ’åºåŒºé—´çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä½ç½®ä½œä¸ºâ€œæ“‚ä¸»â€
> - æ‹¿ç€åç»­çš„æ¯ä¸ªå…ƒç´ éƒ½å’Œæ“‚å°ä¸Šçš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœæ¯”æ“‚å°å…ƒç´ å°ï¼Œå°±äº¤æ¢.

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p3.gif)

```java
    private  static void selectSort(int[] arr){
        // [0, bond)å·²æ’åºåŒºé—´ [bond,arr.length)æœªæ’åºåŒºé—´
        for(int bond = 0;bond<arr.length-1;bond++){
            for(int cur = bond+1;cur<arr.length;cur++){
                if(arr[bond]>arr[cur]){
                    //æ‰“æ“‚æˆåŠŸï¼Œè¿›è¡Œäº¤æ¢
                    int temp = arr[bond];
                    arr[bond] = arr[cur];
                    arr[cur] = temp;
                }
            }
            //æ‰“å°æ‰§è¡Œæ•ˆæœ
            System.out.println("bond = " + bond + " : " + Arrays.toString(arr));
        }
    }
```
> - æ—¶é—´å¤æ‚åº¦O(nÂ²) 
> - ç©ºé—´å¤æ‚åº¦O(1) 
> - ä¸ç¨³å®šæ’åº



### 2.4 å †æ’åºâ€”â€”æ‡‚å¾—åˆ©ç”¨å·¥å…·çš„ç®—æ³•
>-  **å †æ’åºçš„åŸºæœ¬æ€æƒ³**:
     1.é’ˆå¯¹æ•´ä¸ªæ•°ç»„,å»ºç«‹å¤§å †.(åˆå§‹æƒ…å†µä¸‹,æ•´ä¸ªæ•°ç»„,éƒ½æ˜¯"å¾…æ’åºåŒºé—´")
     2.æŠŠå †é¡¶å…ƒç´ å’Œå¾…æ’åºåŒºé—´çš„æœ€åä¸€ä¸ªå…ƒç´ ,äº¤æ¢.(æŠŠæœ€å¤§å…ƒç´ å°±æ”¾åˆ°å·²æ’åºåŒºé—´ä¸­äº†)
     3.æŠŠå †é¡¶å…ƒç´ è¿›è¡Œå‘ä¸‹è°ƒæ•´,ç¡®ä¿å‰é¢å †çš„ç»“æ„ä»ç„¶åˆæ³•çš„,



 ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p4.gif)

```java
public static void heapSort(int[] arr){
        creatHeap(arr);
        int bond = arr.length - 1;
        for (int i = 0;i<arr.length;i++){
            int temp = arr[0];
            arr[0] = arr[bond];
            arr[bond] = temp;
            shiftDown(arr, bond, 0);
            bond--;   //å°†æœ€åä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°å·²æ’åºéƒ¨åˆ†
        }

    }
    //å»ºå¤§å †
    public static void creatHeap(int[] arr){
        int lastLeaf = arr.length - 1;
        for (int i = lastLeaf-1;i>=0;i--){
            shiftDown(arr, arr.length, i);
        }
    }
    //å‘ä¸‹è°ƒæ•´
    public static void shiftDown(int[] arr, int len, int index){
        int parent = index;
        int child = 2 * parent + 1;
        while (child < len){
            if(child + 1 < len && arr[child] < arr[child+1]){
                child += 1;
            }
            if(arr[child] > arr[parent]){
                int temp = arr[parent];
                arr[parent] = arr[child];
                arr[child] = temp;
            }else {
                break;
            }
            parent = child;
            child = 2 * parent + 1;
        }
    }
```
> - æ—¶é—´å¤æ‚åº¦O(NlogN) 
> - ç©ºé—´å¤æ‚åº¦O(1) 
> - ä¸ç¨³å®šæ’åº
### 2.5 å†’æ³¡æ’åºâ€”â€”æ²‰æµ®çš„æ³•åˆ™
>-    å†’æ³¡æ’åºæ¯”è¾ƒäº¤æ¢ç›¸é‚»å…ƒç´ ï¼Œè¿™æ ·çš„ä¸€è¶Ÿä¸‹æ¥å°±èƒ½æŠŠæœ€å¤§å€¼æ”¾åˆ°æœ€å.(æˆ–è€…ä»åå¾€å‰éå†,æ­¤æ—¶å°±èƒ½æŠŠæœ€å°å€¼æ”¾åˆ°æœ€å‰)

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p5.gif)

```java
public static void bubbleSort(int[] arr){
        for (int bond = 0; bond < arr.length - 1; bond++) {
            for(int cur = arr.length - 1;cur > bond;cur--){
                if(arr[cur - 1] > arr[cur]){
                    int temp = arr[cur - 1];
                    arr[cur - 1] = arr[cur];
                    arr[cur] = temp;
                }
            }
            System.out.println(Arrays.toString(arr));
        }
    }
```
> - æ—¶é—´å¤æ‚åº¦O(NÂ²) 
> - ç©ºé—´å¤æ‚åº¦O(1) 
> -  ç¨³å®šæ’åº

### 2.6 å¿«é€Ÿæ’åºï¼ˆHoareç‰ˆæœ¬ï¼‰â€”â€”åˆ†è€Œæ²»ä¹‹çš„é—ªç”µé­”æ³•
>- å¯»æ‰¾åŸºå‡†å€¼æ–¹æ³•
>- é’ˆå¯¹leftï¼Œright é—­åŒºé—´ï¼Œè¿›è¡Œæ•´ç†,
>- æ³¨æ„é€‰æ‹©åŸºå‡†å€¼çš„ä½ç½®ï¼Œå’Œåç»­ä¸¤ä¸ªä¸‹æ ‡è¿åŠ¨çš„å…ˆåé¡ºæ˜¯æœ‰å…³çš„ï¼š
>   1. å¦‚æœé€‰æ‹©æœ€==å³ä¾§å…ƒç´ ==ä¸ºåŸºå‡†å€¼ï¼Œå°±éœ€è¦å…ˆä»å·¦å¾€å³æ‰¾æ¯”åŸºå‡†å€¼å¤§çš„ï¼Œåä»å³å¾€å·¦æ‰¾æ¯”åŸºå‡†å€¼å°çš„
>   2. å¦‚æœé€‰æ‹©æœ€==å·¦ä¾§å…ƒç´ ==ä¸ºåŸºå‡†å€¼ï¼Œå°±éœ€è¦å…ˆä»å³å¾€å·¦æ‰¾æ¯”åŸºå‡†å€¼å°çš„ï¼Œåä»å·¦å¾€å³æ‰¾æ¯”åŸºå‡†å€¼å¤§çš„.

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p6.gif)
å¿«é€Ÿæ’åºï¼ˆé€’å½’ç‰ˆï¼‰
```java
// æ–¹æ³•å…¥å£
    //æ­¤å¤„çº¦å®š[leftï¼Œright]é—­åŒºé—´ä¸ºå¾…å¤„ç†åŒºé—´
    public static void quickSort(int[] arr){
        quickSort(arr, 0, arr.length-1);
    }

    //è¾…åŠ©é€’å½’å·¥å…·
    public static void quickSort(int[] arr, int left, int right){

        //ç»“æŸé€’å½’æ¡ä»¶ï¼ˆå½“å‰åŒºé—´ä¸ºç©ºåŒºé—´æˆ–è€…åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼‰
        if(left>=right){
            return;
        }
        int index = partition(arr, left, right);
        //å¯¹åŸºå‡†å€¼å·¦è¾¹è¿›è¡Œé€’å½’
        quickSort(arr, left, index-1);
        //å¯¹åŸºå‡†å€¼å³è¾¹è¿›è¡Œé€’å½’
        quickSort(arr, index+1, right);
    }
    //å¯»æ‰¾åŸºå‡†å€¼æ–¹æ³•
    private static int partition(int[] arr, int left, int right){
    	// é€‰å–æœ€å³è¾¹å…ƒç´ ä¸ºåŸºå‡†å€¼
        int pivot = arr[right];
        int l = left;
        int r = right;
        while (l < r){
            while (l<r && arr[l]<=pivot){
                l++;
            }
            while (l<r && arr[r]>=pivot){
                r--;
            }
            swap(arr, l, r);
        }
        //æœ€å¤–å±‚å¾ªç¯ç»“æŸåè¦äº¤æ¢é‡åˆå€¼å’ŒåŸºå‡†å€¼
        swap(arr, l, right);
        return l;
    }
    //äº¤æ¢æ–¹æ³•
    private static void swap(int[] arr, int left, int right){
        int temp = arr[left];
        arr[left] = arr[right];
        arr[right] = temp;
    }
}
```
å¿«é€Ÿæ’åº(å¾ªç¯ç‰ˆ)
```java
    // å¿«é€Ÿæ’åº(éé€’å½’ç‰ˆæœ¬)
    static class Range{
        private int left;
        private int right;
        public Range(int left, int right){
            this.left = left;
            this.right = right;
        }
    }

    public static void quickSortByLoop(int[] arr){
        //åˆ©ç”¨æ ˆæ¨¡æ‹Ÿé€’å½’è¿‡ç¨‹
        Stack<Range> range = new Stack<>();
        range.push(new Range(0, arr.length - 1));
        while (!range.isEmpty()){
            Range top = range.pop();
            if(top.left >= top.right){
                continue;
            }
            int pivot = Partition(arr, top.left, top.right);
            range.push(new Range(top.left, pivot - 1));
            range.push(new Range(pivot + 1, top.right));
        }
        //å½“å¾ªç¯ç»“æŸæ—¶ï¼Œæ’åºå°±å·²ç»å®Œæˆäº†
    }
    
	public static int Partition(int[] arr, int left, int right){
        int pivot = arr[left];
        int l = left;
        int r = right;
        while (l<r){
            while (l<r && arr[r]>=pivot){
                r--;
            }
            while (l<r && arr[l]<=pivot){
                l++;
            }
            swap(arr, l, r);
        }
        //è®°ä½ä¼ å‚æ˜¯ä¼ åŸºå‡†å€¼çš„ä¸‹æ ‡è€Œä¸æ˜¯ç›´æ¥ä¼ åŸºå‡†å€¼
        swap(arr, l, left);
        return l;
    }

    public static void swap(int[] arr, int i, int j){
        int temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }
```

>- åŸºå‡†é€‰æ‹©ï¼šä¸‰æ•°å–ä¸­æ³•(å‡å°‘å–åˆ°æç«¯å€¼çš„æ¦‚ç‡)æˆ–è€…é€‰æ‹©æœ€å³è¾¹æˆ–è€…æœ€å·¦è¾¹
>- æ—¶é—´å¤æ‚åº¦ï¼šæœ€åO(NÂ²) å¹³å‡O(NlogN)
>- ç©ºé—´å¤æ‚åº¦ï¼šæœ€åO(N) å¹³å‡O(logN)
>-  ä¸ç¨³å®šæ’åº

### 2.7 å½’å¹¶æ’åºâ€”â€”è€å¿ƒçš„æ‹¼å›¾é­”æ³•
>- å½’å¹¶æ’åºçš„æ ¸å¿ƒæµç¨‹åˆ†ä¸ºä¸¤æ­¥ï¼š
> 1. **æ‹†åˆ†ï¼ˆDivideï¼‰**ï¼šå°†æ•°ç»„ä¸æ–­äºŒåˆ†ï¼Œç›´åˆ°æ¯ä¸ªå­æ•°ç»„åªåŒ…å« 1 ä¸ªå…ƒç´ ï¼ˆå¤©ç„¶æœ‰åºï¼‰ã€‚
>2. **åˆå¹¶ï¼ˆMergeï¼‰**ï¼šå°†ä¸¤ä¸ªæœ‰åºå­æ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªæ›´å¤§çš„æœ‰åºæ•°ç»„ï¼Œé‡å¤æ­¤è¿‡ç¨‹ç›´åˆ°åˆå¹¶ä¸ºå®Œæ•´æ•°ç»„ã€‚

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p7.gif)

```java
 public static void mergeSort(int[] arr){
        mergeSort(arr, 0, arr.length-1);

    }

    //å½’å¹¶æ’åºçš„è¾…åŠ©æ–¹æ³•ã€‚å‚æ•°ä¸­å¼•å…¥å­åŒºé—´ï¼Œé€šè¿‡å­åŒºé—´æ¥è¿›è¡Œå†³å®šå½“å‰æ˜¯è¦é’ˆå¯¹å“ªä¸ªéƒ¨åˆ†çš„æ•°ç»„è¿›è¡Œå½’å¹¶æ’åº
    public static void mergeSort(int[] arr, int left, int right){
        //1.å¦‚æœå­åŒºé—´åªæœ‰ä¸€ä¸ªæˆ–è€…æ²¡æœ‰å…ƒç´ ï¼Œåˆ™ä¸éœ€è¦é€’å½’
        if(left>=right)return;
        //2.æŠŠå½“å‰åŒºé—´åˆ†ä¸ºä¸¤ä¸ªç­‰é•¿åŒºé—´ï¼Œåˆ†åˆ«è¿›è¡Œé€’å½’
        int mid = (left + right)/2;
        //3.é€’å½’å·¦åŠè¾¹å’Œé€’å½’å³åŠè¾¹
        // å¿«é€Ÿæ’åºæ˜¯åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼ŒåŸºå‡†å€¼æ˜¯å•ç‹¬ä¸€ä¸ªéƒ¨åˆ†ï¼Œå·¦å³é€’å½’æ—¶ï¼Œéœ€è¦æŠŠåŸºå‡†å€¼ä½ç½®ç»™å»é™¤
        // å½’å¹¶æ’åºæ˜¯åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œmidè¿™ä¸ªä½ç½®çš„å…ƒç´ ä¹Ÿè¦å‚ä¸é€’å½’
        mergeSort(arr, left, mid);
        mergeSort(arr, mid+1, right);
        //4.å®Œæˆä¸Šè¿°é€’å½’åè¯´æ˜å·¦å³ä¸¤ä¸ªåŒºé—´å·²ç»æ˜¯æœ‰åºçš„äº†ï¼Œå¼€å§‹åˆå¹¶
        merge(arr, left, mid, right);
    }

    private static void merge(int[] arr, int left, int mid, int right){
        //1.å…ˆåˆ›å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„ä¿å­˜ç»“æœï¼Œä¸´æ—¶æ•°ç»„çš„é•¿åº¦åº”è¯¥æ˜¯right-left+1
        int[] result = new int[right - left + 1];
        //åç»­åˆå¹¶æ—¶å€™ï¼Œè¦æŠŠå¯¹åº”çš„å…ƒç´ è¿›è¡Œå°¾æ’åˆ°å°¾æ’åˆ°resultä¸­çš„ï¼Œä½¿ç”¨resultSizeè¡¨ç¤ºresultä¸­å·²ç»æ’å…¥çš„å…ƒç´ ä¸ªæ•°
        //æ­¤å¤„å°±æ˜¯åœ¨æ¨¡æ‹Ÿç®€å•çš„é¡ºåºè¡¨
        int resultSize = 0;
        //2.è®¾å®šä¸¤ä¸ªä¸‹æ ‡æŒ‡å‘æ¯ä¸ªåŒºé—´çš„å¼€å¤´
        int cur1 = left;
        int cur2 = mid + 1;
        while (cur1 <= mid && cur2 <= right){
            if(arr[cur1] < arr[cur2]){
                // æŠŠcur1ä½ç½®çš„å…ƒç´ æ’åˆ°resultä¸­
                result[resultSize++] = arr[cur1];
                cur1++;
            }else {
                result[resultSize++] = arr[cur2];
                cur2++;
            }
        }
        //3.å¤„ç†å‰©ä½™çš„å…ƒç´ ï¼Œç”±äºè¿™ä¸¤ä¸ªåŒºé—´çš„é•¿åº¦ä¸ä¸€å®šå®Œå…¨ç›¸åŒï¼Œåªéœ€è¦æŠŠå¤šä½™çš„éƒ¨åˆ†ï¼Œæ•´ä½“å°¾æ’åˆ°resultä¸­å³å¯
        while (cur1<=mid){
            result[resultSize++] = arr[cur1];
            cur1++;
        }
        while (cur2<=right){
            result[resultSize++] = arr[cur2];
            cur2++;
        }
        for (int i = 0; i < resultSize; i++){
            arr[left+i] = result[i];
        }

    }
```
>- æ—¶é—´å¤æ‚åº¦ï¼šO(NlogN)
>- ç©ºé—´å¤æ‚åº¦ï¼šO(N) 
>-  ç¨³å®šæ’åº
## ç¬¬ä¸‰ç« ï¼šæ€§èƒ½æ¯”è¾ƒ

### 3.1 ä¸ƒå¤§æ’åºæ€§èƒ½è¡¨

| æ’åºé­”æ³• | å¹³å‡æ—¶é—´å¤æ‚åº¦ | æœ€åæƒ…å†µ | ç©ºé—´å¤æ‚åº¦ | ç¨³å®šæ€§ | é€‚ç”¨åœºæ™¯ |
|---------|--------------|---------|-----------|--------|----------|
| å†’æ³¡æ’åº | O(nÂ²) | O(nÂ²) | O(1) | âœ”ï¸ | æ•™å­¦æ¼”ç¤º |
| é€‰æ‹©æ’åº | O(nÂ²) | O(nÂ²) | O(1) | âŒ | äº¤æ¢æˆæœ¬é«˜æ—¶ |
| æ’å…¥æ’åº | O(nÂ²) | O(nÂ²) | O(1) | âœ”ï¸ | å°æ•°æ®/åŸºæœ¬æœ‰åº |
| å¸Œå°”æ’åº | O(n log n) | O(nÂ²) | O(1) | âŒ | ä¸­ç­‰è§„æ¨¡æ•°æ® |
| å½’å¹¶æ’åº | O(n log n) | O(n log n) | O(n) | âœ”ï¸ | å¤§æ•°æ®/éœ€è¦ç¨³å®š |
| å¿«é€Ÿæ’åº | O(n log n) | O(nÂ²) | O(log n) | âŒ | é€šç”¨åœºæ™¯ |
| å †æ’åº | O(n log n) | O(n log n) | O(1) | âŒ | å†…å­˜å—é™æ—¶ |

### 3.2 ç®—æ³•é€‰æ‹©æŒ‡å—ï¼ˆæ€ç»´å¯¼å›¾ç‰ˆï¼‰
![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](p8.png)

```mermaid
graph TD
    A[éœ€è¦æ’åº?] --> B{æ•°æ®è§„æ¨¡}
    B -->|å°æ•°æ®| C[æ’å…¥æ’åº]
    B -->|ä¸­ç­‰æ•°æ®| D[å¿«é€Ÿæ’åº/å¸Œå°”æ’åº]
    B -->|å¤§æ•°æ®| E{æ˜¯å¦éœ€è¦ç¨³å®š?}
    E -->|æ˜¯| F[å½’å¹¶æ’åº]
    E -->|å¦| G[å¿«é€Ÿæ’åº/å †æ’åº]
    A --> H{å†…å­˜é™åˆ¶?}
    H -->|æ˜¯| I[å †æ’åº]
    H -->|å¦| B
```

## ç¬¬å››ç« ï¼šç°å®ä¸­çš„é­”æ³•åº”ç”¨

### 4.1 ç™¾äº¿æ•°æ®æ’åºâ€”â€”å¤–éƒ¨æ’åºçš„é­”æ³•

å½“ä½ çš„æ•°æ®æ¯”å†…å­˜è¿˜å¤§æ—¶ï¼ˆæ¯”å¦‚100Gæ•°æ®ï¼Œåªæœ‰1Gå†…å­˜ï¼‰ï¼š

1. **åˆ†å‰²é˜¶æ®µ**ï¼šå°†å¤§æ–‡ä»¶åˆ‡æˆ200ä»½512Mçš„å°æ–‡ä»¶ï¼ˆå°±åƒæŠŠä¸€åº§å±±åˆ†æˆå¯æ¬è¿çš„çŸ³å¤´ï¼‰
2. **æ’åºé˜¶æ®µ**ï¼šåˆ†åˆ«å¯¹æ¯ä¸ªå°æ–‡ä»¶æ’åºï¼ˆåœ¨å†…å­˜ä¸­æ•´ç†æ¯å—çŸ³å¤´ï¼‰
3. **å½’å¹¶é˜¶æ®µ**ï¼šä½¿ç”¨2è·¯å½’å¹¶é€æ­¥åˆå¹¶ï¼ˆæŠŠæ•´ç†å¥½çš„çŸ³å¤´é‡æ–°ç»„è£…æˆå±±ï¼‰

```java
// ä¼ªä»£ç ï¼šå¤–éƒ¨æ’åºçš„é­”æ³•ä»ªå¼
public void externalSort(File bigFile) {
    List<File> chunks = splitIntoChunks(bigFile, 512MB); // ç¬¬ä¸€æ­¥ï¼šåˆ†å‰²
    for (File chunk : chunks) {
        sortInMemory(chunk); // ç¬¬äºŒæ­¥ï¼šå†…å­˜æ’åº
    }
    mergeSortedChunks(chunks); // ç¬¬ä¸‰æ­¥ï¼šå½’å¹¶
}
```
---

ç°åœ¨ï¼Œä½ å·²ç»æˆä¸ºäº†ä¸€ååˆæ ¼çš„"æ’åºé­”æ³•å¸ˆ"ï¼ä¸‹æ¬¡å½“ä½ çœ‹åˆ°æ‚ä¹±çš„æ•°æ®æ—¶ï¼Œè®°å¾—é€‰æ‹©åˆé€‚çš„"é­”æ³•"æ¥é©¯æœå®ƒä»¬ã€‚è®°ä½ï¼Œæ²¡æœ‰æœ€å¥½çš„é­”æ³•ï¼Œåªæœ‰æœ€é€‚åˆçš„é­”æ³•ï¼âœ¨